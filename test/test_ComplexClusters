import os,sys
sys.path.append('./')

from ase import Atoms
from ase.calculators.emt import EMT 
#from ase.calculators import Tersoff
from ase.optimize import BFGS
from ase.visualize import view
from src.genetic_algorithm import GeneticAlgorithm

def test_ga_tersoff():
    ga = GeneticAlgorithm(num_clusters=4, preserve=True, calculator=Tersoff) 
    ga.run(5, 'C', 50)
    atoms = ga.cluster_list[-1]
    print(atoms.get_potential_energy())
    view(atoms)


def test_ga():
    ga = GeneticAlgorithm(num_clusters=4, preserve=True, calculator=EMT)
    ga.run(5, 'Ag', 50)
    atoms = ga.cluster_list[-1]
    print(atoms.get_potential_energy())
    view(atoms)



#test_ga_tersoff()

#test_ga()
from ase import Atoms
from ase.calculators.emt import EMT
from ase.optimize import BFGS
from ase.visualize import view

atoms = Atoms('Ag2Au1Al1Pt1', positions=[
    [0.0, 0.0, 0.0],  
    [2.88, 0.0, 0.0],  
    [1.44, 2.48, 0.0],  
    [1.44, 1.24, 2.48],  
    [0.44, 0.24, 3.48]   
])

calculator = EMT()  
atoms.set_calculator(calculator)

optimizer = BFGS(atoms)
optimizer.run(fmax=0.01)

view(atoms)





